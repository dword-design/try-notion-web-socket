<html>
  <body>
    <script src='https://msgstore.www.notion.so/primus/primus.js'></script>
    <script>
      const primus = new Primus('<URL>')

      primus.on('error', function error(err) {
        console.error('Something horrible has happened', err.stack);
      })

      primus.on('destroy', function () {
        console.log('Feel the power of my lasers!');
      })

      primus.on('reconnect', function (opts) {
        console.log('Reconnection attempt started');
      })

      primus.on('reconnect scheduled', function (opts) {
        console.log('Reconnecting in %d ms', opts.scheduled);
        console.log('This is attempt %d out of %d', opts.attempt, opts.retries);
      })

      primus.on('reconnected', function (opts) {
        console.log('It took %d ms to reconnect', opts.duration);
      })

      primus.on('reconnect timeout', function (err, opts) {
        console.log('Timeout expired: %s', err.message);
      })

      primus.on('reconnect failed', function (err, opts) {
        console.log('The reconnection failed: %s', err.message);
      })

      primus.on('open', function open() {
        console.log('Connection is alive and kicking');
      })

      primus.on('data', function message(data) {
        console.log('Received a new message from the server', data);
      })

      primus.on('end', function () {
        console.log('Connection closed');
      })

      /*const socket = io('<URL>')

      socket.io.on('error', error => {
        console.log('error')
        console.log(error)
        console.log(JSON.stringify(error));
      })

      socket.on('connect', () => {
        console.log('connected')
        console.log(socket.id); // 'G5p5...'
      })

      socket.onAny((event, ...args) => {
        console.log(`got ${event}`);
      })*/
    </script>
  </body>
</html>
